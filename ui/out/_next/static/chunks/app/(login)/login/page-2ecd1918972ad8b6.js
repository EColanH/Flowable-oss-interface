(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[395],{2361:function(e,s,a){Promise.resolve().then(a.bind(a,3492))},3492:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return d}});var r=a(1844),n=a(5784);class i extends Error{constructor({message:e,response:s,data:a}){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,i),this.name="FetchError",this.response=s,this.data=null!=a?a:{message:e}}}async function t(e,s){let a=await fetch(e,s),r=await a.json();if(a.ok)return r;throw new i({message:a.statusText,response:a,data:r})}var l=a(7928),o=a.n(l);function f(e){let{errorMessage:s,onSubmit:a}=e;return(0,r.jsxs)("form",{action:"",onSubmit:a,className:"jsx-507f1f0bed09f33e box",children:[(0,r.jsxs)("div",{className:"jsx-507f1f0bed09f33e field",children:[(0,r.jsx)("label",{htmlFor:"",className:"jsx-507f1f0bed09f33e label",children:"Username"}),(0,r.jsxs)("div",{className:"jsx-507f1f0bed09f33e control has-icons-left",children:[(0,r.jsx)("input",{name:"username",type:"text",placeholder:"username",required:!0,className:"jsx-507f1f0bed09f33e input"}),(0,r.jsx)("span",{className:"jsx-507f1f0bed09f33e icon is-medium is-left",children:(0,r.jsx)("i",{className:"jsx-507f1f0bed09f33e fa fa-envelope"})})]})]}),(0,r.jsxs)("div",{className:"jsx-507f1f0bed09f33e field",children:[(0,r.jsx)("label",{htmlFor:"",className:"jsx-507f1f0bed09f33e label",children:"Password"}),(0,r.jsxs)("div",{className:"jsx-507f1f0bed09f33e control has-icons-left",children:[(0,r.jsx)("input",{name:"password",type:"password",placeholder:"*******",required:!0,className:"jsx-507f1f0bed09f33e input"}),(0,r.jsx)("span",{className:"jsx-507f1f0bed09f33e icon is-medium is-left",children:(0,r.jsx)("i",{className:"jsx-507f1f0bed09f33e fa fa-lock"})})]})]}),(0,r.jsx)("div",{className:"jsx-507f1f0bed09f33e field",children:(0,r.jsx)("button",{className:"jsx-507f1f0bed09f33e button is-success",children:"Login"})}),s&&(0,r.jsx)("p",{className:"jsx-507f1f0bed09f33e error",children:s}),(0,r.jsx)(o(),{id:"507f1f0bed09f33e",children:"form.jsx-507f1f0bed09f33e,label.jsx-507f1f0bed09f33e{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-flow:column;flex-flow:column}label.jsx-507f1f0bed09f33e>span.jsx-507f1f0bed09f33e{font-weight:600}input.jsx-507f1f0bed09f33e{padding:8px;margin:.3rem 0 1rem;border:1px solid#ccc;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.error.jsx-507f1f0bed09f33e{color:brown;margin:1rem 0 0}"})]})}var c=a(8764).lW;function d(){let[e,s]=(0,n.useState)(""),a=async e=>{e.preventDefault();let a=e.currentTarget.getElementsByTagName("input"),r=a.namedItem("username").value,n=a.namedItem("password").value,l=c.from("".concat(r,":").concat(n)).toString("base64"),o=await fetch("/backend/idm-api/users/".concat(r),{method:"GET",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Basic "+l}}),f=await o.json();try{await t("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})}catch(d){d instanceof i?s(d.data.message):console.error("An unexpected error happened:",d)}};return(0,r.jsx)("div",{className:"hero-body",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"columns is-centered",children:(0,r.jsx)("div",{className:"column is-5-tablet is-4-desktop is-3-widescreen",children:(0,r.jsx)(f,{errorMessage:e,onSubmit:a})})})})})}}},function(e){e.O(0,[315,17,744],function(){return e(e.s=2361)}),_N_E=e.O()}]);